<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/sky.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
          <h2>Introduction to Python Ecosystem and Community</h2>
        </section>

        <section>
          <h2>Agenda</h2>
          <ul>
            <li>Language and Implementation Ecosystem</li>
            <li>Python Native Extension</li>
            <li>Python Package Index (PyPI)</li>
            <li>Community Activity</li>
          </ul>
        </section>

        <section>
          <section>
            <h2>Language and Implementation Ecosystem</h2>
          </section>

          <section>
            <h2>
              Language 是啥？
            </h2>
          </section>

          <section>
            <h2>
              由語法和語義組成
            </h2>
          </section>

          <section>
            <h2>
              Python (大寫) 是個語言
            </h2>
          </section>

          <section>
            <h2>
              有一份 Spec 定義了 語法 和 語義
            </h2>
          </section>

          <section>
            <h2>
              然後這個語言 *可以* 有 Implementation
            </h2>
          </section>

          <section>
            <h2>
              官方的 Python 實作的那個專案叫做 CPython
            </h2>
          </section>

          <section>
            <h2>
              通常以 小寫 `python` 稱之
            </h2>
          </section>

          <section>
            <h2>
              但是這個世界已經壞了...
            </h2>
          </section>

          <section>
            <h2>
              這世界上還有多到不行的 Python 實作
            </h2>
          </section>

        </section>

        <section>

          <section>
            <h2>
              舉個例子: Jython
            </h2>
          </section>

          <section>
            <h2>
              整個 Python 實作在 JVM 上面
            </h2>
          </section>

          <section>
            <h2>
              據說跟 Java 可以接軌
            </h2>
          </section>

          <section>
            <h2>
              Leverage 整個 Java Ecosystem
            </h2>
          </section>

        </section>

        <section>

          <section>
            <h2>
              再舉個例子: IronPython
            </h2>
          </section>

          <section>
            <h2>
              整個 Python 實作在 .NET CLR 上面
            </h2>
          </section>

          <section>
            <h2>
              隨著 M$ Open Source 了 .NET
            </h2>
          </section>

          <section>
            <h2>
              應該有越來越多東西可以亂接
            </h2>
          </section>

        </section>

        <section>

          <section>
            <h2>
              再舉個例子: MicroPython
            </h2>
          </section>

          <section>
            <h2>
              這個實作是針對 MicroController 的實作
            </h2>
          </section>

          <section>
            <h2>
              為了在有限的資源下跑 Python
            </h2>
          </section>

          <section>
            <h2>
              而且對 std lib 做了閹割
            </h2>
          </section>

          <section>
            <h2>
              這個 Embedded System 的需求
            </h2>
          </section>

        </section>

        <section>

          <section>
            <h2>
              再舉個例子: PyPy
            </h2>
          </section>

          <section>
            <h2>
              PyPy 又是個更神奇的專案了
            </h2>
          </section>

          <section>
            <h2>
              這世界總是不缺少效率魔人
            </h2>
          </section>

          <section>
            <h2>
              PyPy 是個 有 Just-In-Time (JIT) Compile 的實作
            </h2>
          </section>

          <section>
            <h2>
              開發者的組成很奇怪 <del>有病</del>
            </h2>
          </section>

          <section>
            <h2>
              是一群歐洲的大學教授在研究 JIT
            </h2>
          </section>

          <section>
            <h2>
              PyPy 被拿去測各種知名專案
              <p class="fragment">效能平均提升 7 倍 </p>
              <p class="fragment">而且不用改專案的 code</p>
            </h2>
          </section>

          <section>
            <h2>
              講一下 PyPy 做了啥
            </h2>
          </section>

          <section>
            <h2>
              PyPy 網頁： PyPy 是用 Python 寫的 <br> Python Interpreter!
              <p class="fragment">我：尛，這不是更慢嘛？</p>
            </h2>
          </section>

          <section>
            <h2>
              不 ... 實際上是
            </h2>
            <h3>
              <p class="fragment">RPython 寫 Code Gen System</p>
              <p class="fragment">得到了 C Code</p>
              <p class="fragment">C Code compile 出 Python Interpreter</p>
              <p class="fragment">"我們不想寫 C"</p>
              <p class="fragment">"用 Gen 的啊"</p>
            </h3>
          </section>

          <section>
            <h2>
              這專案真的很有事
              <p class="fragment">各種高完成度</p>
              <p class="fragment">各種跨平臺</p>
              <p class="fragment">大型主機最近支援了： Z/OS</p>
            </h2>
          </section>

          <section>
            <h2>
              教授："我們只是想發 JIT paper"
              <p class="fragment">"不小心就做這麼好"</p>
            </h2>
          </section>

          <section>
            <h2>
              還有 PyPy 的各種子專案
              <p class="fragment">e.g: PyPyJS</p>
              <p class="fragment">PyPy 跑在 JavaScript Engine 上了</p>
            </h2>
          </section>

          <section>
            <h2>
              因為這世界上有個專案叫 Emscripten
              <p class="fragment">功能是把 C Code 做 Src-to-Src Compile</p>
              <p class="fragment">Compile 成 JavaScript</p>
              <p class="fragment">然後就可以跑在 browser 上</p>
            </h2>
          </section>

          <section>
            <h2>
              與是有人把 PyPy gen 出來的 C Code 接了 Emscripten
            </h2>
          </section>

          <section>
            <h2>
              從此 PyPyJS 長在 browser 上了
            </h2>
          </section>

          <section>
            <h2>
              而且人們又不斷在 tune PyPyJS 的效能
              <p class="fragment">目前有某些 case PyPyJS 效能 > CPython </p>
            </h2>
          </section>

        </section>

        <section>

          <section>
            <h2>
              前面都是講<em>同一個</em>語言的實作
            </h2>
          </section>

          <section>
            <h2>
              然而<em>語言</em>本身也有人惡搞
            </h2>
          </section>

          <section>
            <h2>
              更驚悚的是惡搞完 <em>居然還有實作</em>
            </h2>
          </section>

          <section>
            <h2>
              RapydScript
              <p class="fragment">scr-to-scr compiler</p>
              <p class="fragment">Compile a Python-like lang to JS!</p>
            </h2>
          </section>

          <section>
            <h2>
              再舉個例子： Cython
              <p class="fragment">Cython 是 Python 語言的 super set</p>
              <p class="fragment">給你像 C 的 static typing</p>
              <p class="fragment">然後 Compile to C</p>
            </h2>
          </section>

          <section>
            <h2>
              而 Cython Compile 出來的 module 可以接到 CPython
              <p class="fragment">就是為了加速</p>
            </h2>
          </section>

          <section>
            <h2>
              前面提到的 PyPy 有個 RPython 的語言
              <p class="fragment">是個 Python 的 subset</p>
              <p class="fragment">拿來寫 Interpreter </p>
            </h2>
          </section>

          <section>
            <h2>
              還有很多 Python X Functional 的惡搞...
            </h2>
          </section>

        </section>

        <section>

          <section>
            <h1>
              Python Native Extension
            </h1>
          </section>

          <section>
            <h2>
              實際上 Python import 進來的東西,
              <p>不一定是個 python module</p>
            </h2>
          </section>

          <section>
            <h2>
              可以是用 C 或其他語言寫的
            </h2>
          </section>

          <section>
            <h2>
              Native Extension 就是指 在機器上跑 native machine code 的 module
            </h2>
          </section>

          <section>
            <h2>
              可以接到底層的 C API 是很重要的
            </h2>
          </section>

          <section>
            <h2>
              有些需要操作記憶體的工作還是需要 C 來完成
            </h2>
          </section>

          <section>
            <h2>
              Standard Lib 裡的 <code>ctypes</code> 提供了 FFI 的能力
              <p class="fragment">想 dlopen 啥 就 dlopen 啥</p>
            </h2>
          </section>

          <section>
            <h2>
              如果還是嫌 <code>ctyps</code> 麻煩
            </h2>
          </section>

          <section>
            <h2>
              PyPy 有個 子專案叫 CFFI 接起來更方便
              <p class="fragment">header file 給它看一看， run-time 生出 share lib</p>
            </h2>
          </section>

          <section>
            <h2>
              什麼！ C 無法滿足你？
            </h2>
          </section>

          <section>
            <h2>
              世界上有個專案叫做 SWIG
              <p class="fragment">做了各種語言的對接</p>
            </h2>
          </section>

        </section>

        <section>

          <section>
            <h2>
              Python Package Index (PyPI)
            </h2>
          </section>

          <section>
            <h2>
              The Cheese Shop
            </h2>
          </section>

          <section>
            <h2>
              Python 官方開了一個站
            </h2>
          </section>

          <section>
            <h2>
              讓大家可以丟自己做的 Open Source Package 上來
            </h2>
          </section>

          <section>
            <h2>
              怎麼從 PyPI 裝套件下來？
            </h2>
          </section>

          <section>
            <h2>
              <code>pip install ...</code>
              <p class="fragment">
                注意在 Unix-like System 需要 root permission
              </p>
            </h2>
          </section>

          <section>
            <h2>
              那麼... 東西裝到哪裡去了？
            </h2>
          </section>

          <section>
            <h2>
              Unix: <code>/usr/lib/python3.5/site-packages/xxx</code>
            </h2>
            <h2>
              Windows: <code>\path\to\python\Libs\...</code>
            </h2>
          </section>

          <section>
            <h2>
              接著，問題來了，大家都把東西裝到系統資料夾中
              <p class="fragment">Bob 想要 foo v 1.0</p>
              <p class="fragment">Alice 想要 foo v 2.0</p>
              <p class="fragment">怎麼辦？</p>
            </h2>
          </section>

          <section>
            <h2>
              此時 <code>virtualenv</code> 出來拯救世界了
            </h2>
            <h3>
              <p class="fragment">
                "我們想要隔離環境"
              </p>
              <p class="fragment">
                所以做法是 建立一個跟 /usr/lib 一樣的資料夾結構
              </p>
              <p class="fragment">
                讓 pip 的 install 、 python 的 import 都在這個資料架底下發生
              </p>
            </h3>
          </section>

          <section>
            <h2>
              Normal Python: <code>python -m venv myenv</code>
            </h2>
            <h2>
              Anaconda: <code>conda create myenv</code>
            </h2>
          </section>

          <section>
            <h2>
              然後在裡面 <code>pip install</code> 就不需要 <code>sudo</code> 了
            </h2>
          </section>

        </section>

        <section>

          <section>
            <h2>
              Community Activity
            </h2>
          </section>

          <section>
            <h2>
              Python Community @ Taiwan
              <p class="fragment">PyCon TW</p>
            </h2>
          </section>

          <section>
            <h2>
              亞洲這裡每年會由一個國家舉辦 PyCon APEC
            </h2>
          </section>

          <section>
            <h2>
              去年 (2015) PyCon APEC 就在 TW
            </h2>
          </section>

          <section>
            <h2>
              Local Community @ TW ?
              <p class="fragment">Taipei.py</p>
              <p class="fragment">Django Girls</p>
              <p class="fragment">PyHUG</p>
              <p class="fragment">... etc</p>
            </h2>
          </section>

          <section>
            <h2>
              PyCon @ the World?
              <p class="fragment">PyCon US</p>
            </h2>
          </section>

          <section>
            <h2>
              PyData
            </h2>
          </section>

          <section>
            <h2>
            </h2>
          </section>

          <section>
            <h2>
            </h2>
          </section>

          <section>
            <h2>
            </h2>
          </section>

          <section>
            <h2>
            </h2>
          </section>

          <section>
            <h2>
            </h2>
          </section>

          <section>
            <h2>
            </h2>
          </section>

        </section>
			</div>

    </div><!-- .reveal -->

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
